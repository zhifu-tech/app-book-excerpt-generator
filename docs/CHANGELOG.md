# 更新日志

所有重要的项目变更都会记录在此文件中。

格式基于 [Keep a Changelog](https://keepachangelog.com/zh-CN/1.0.0/)，
版本号遵循 [语义化版本](https://semver.org/lang/zh-CN/)。

## [0.2.1] - 2025-12-18

### 🏗️ 架构重构 (Breaking Changes)

- **项目目录重组**: 将前后端代码整合进单一仓库，按照 `app/` (前端) 和 `server/` (后端) 进行组织。
- **统一管理脚本**: 根目录新增 `run.sh` (v2.0)，支持一键部署前端和后端。
- **文档整合**: 合并了前后端的文档、截图和 CHANGELOG。

### ✨ 前端新增 (App)

- **导入/导出功能**:
  - 支持导出完整的配置信息（内容 + 样式）为 JSON 文件。
  - 支持通过导入 JSON 文件还原书摘内容和样式。
  - 导入时包含版本校验，确保兼容性。
- **配置管理 UI**:
  - 在侧边栏新增“配置管理”区域。
  - 增加“导出配置”和“导入配置”按钮。

### 🔧 后端改进 (Server)

- **代码质量**: 确保代码风格一致，维持 100% Linter 通过率。
- **环境对齐**: 同步更新版本号，保持与前端项目的版本协同。

---

## [0.2.0] - 2025-12-09 (后端重大更新)

### 🎉 后端架构重构

- **分层架构设计**: 从单文件应用重构为专业的分层架构 (Controller, Service, Utils, Middleware, Routes)。
- **模块化设计**: 代码按功能模块组织，职责清晰。
- **配置管理优化**: 统一环境变量支持 (`dotenv`) 和配置集中化。
- **日志系统**: 实现专业的结构化日志系统，支持多级别和文件日志。
- **错误处理**: 统一错误处理中间件，自动记录错误日志。
- **请求日志**: 自动记录所有 HTTP 请求及性能监控。

### ✨ 新增功能

- **健康检查增强**: 健康检查端点返回运行时间信息。
- **环境变量配置**: 支持通过 `.env` 文件配置所有参数。
- **开发工具**: 添加 ESLint 和 Prettier 代码检查工具。

---

## [0.1.1] - 2025-12-18 (前端改进)

### 🔧 改进

- **UI 优化**: 将“保存”功能（图片下载）与“导出配置”功能分离，交互更加清晰。
- **文档完善**: 更新 `README.md`，增加后端服务依赖说明及开发指南。
- **依赖一致性**: 提交 `package-lock.json` 以确保 CI 环境依赖一致。

---

## [0.1.0] - 2025-12-06 (初始发布)

### 🎉 核心功能

- **前端**: 实时书摘预览、10+ 主题、多种中文字体、横竖排切换、高清 PNG 导出。
- **后端**: 初始版本发布，提供配置获取/保存 API，支持 JSON 持久化和 Docker。
- **移动端**: 响应式设计、缩略图预览及全屏预览。
- **部署**: 提供 `book-excerpt.sh` 脚本和 Nginx 预设。
